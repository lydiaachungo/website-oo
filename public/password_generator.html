<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SecureGen Pro | Military Grade Encryption</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    :root {
        --bg-dark: #020617;
        --neon-green: #00ff41;
        --neon-cyan: #00b8ff;
        --card-bg: rgba(13, 17, 23, 0.9);
        --text-primary: #e6f1ff;
        --text-muted: #8892b0;
        --font-display: 'Orbitron', sans-serif;
        --font-code: 'Fira Code', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
        background-color: var(--bg-dark);
        color: var(--text-primary);
        font-family: var(--font-code);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background-image: radial-gradient(circle at center, rgba(0, 255, 65, 0.05) 0%, rgba(2, 6, 23, 1) 80%),
                          url('https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=2070&auto=format&fit=crop');
        background-size: cover;
        background-position: center;
        padding: 20px;
    }

    .container { width: 100%; max-width: 550px; }

    /* --- ULTRA-CYBER GLASS CARD --- */
    .generator-card {
        background: linear-gradient(145deg, rgba(20, 25, 35, 0.95) 0%, rgba(10, 14, 20, 0.98) 100%);
        border: 1px solid var(--neon-green);
        border-radius: 16px;
        padding: 2.5rem;
        box-shadow: 0 0 60px rgba(0, 255, 65, 0.1), inset 0 0 30px rgba(0, 255, 65, 0.05);
        backdrop-filter: blur(20px);
        position: relative;
        overflow: hidden;
    }

    /* Scanline Overlay */
    .generator-card::after {
        content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
        z-index: 2; background-size: 100% 2px, 3px 100%; pointer-events: none; opacity: 0.3;
    }

    .header { text-align: center; margin-bottom: 2rem; position: relative; z-index: 3; }
    .header h1 { font-family: var(--font-display); font-size: 2.2rem; letter-spacing: 2px; text-shadow: 0 0 10px var(--neon-green); margin-bottom: 5px; }
    .header p { color: var(--neon-green); font-size: 0.85rem; letter-spacing: 3px; text-transform: uppercase; }

    /* --- DECRYPTION READOUT --- */
    .password-display-box {
        background: #050a10;
        border: 2px solid var(--neon-green);
        padding: 1.5rem;
        border-radius: 8px;
        margin-bottom: 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: inset 0 0 20px rgba(0, 255, 65, 0.1);
        position: relative;
        z-index: 3;
    }
    
    #password-output {
        font-size: 1.6rem;
        color: var(--neon-green);
        word-break: break-all;
        font-weight: bold;
        text-shadow: 0 0 5px var(--neon-green);
        letter-spacing: 2px;
        font-family: 'Fira Code', monospace;
    }

    /* ACTION BUTTONS ROW */
    .action-row { display: flex; gap: 10px; }
    
    .icon-btn {
        background: rgba(0, 255, 65, 0.1);
        border: 1px solid var(--neon-green);
        color: var(--neon-green);
        width: 45px; height: 45px;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.2s;
        display: flex; align-items: center; justify-content: center; font-size: 1.1rem;
    }
    .icon-btn:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 15px var(--neon-green); }
    .icon-btn:active { transform: scale(0.95); }

    /* CONTROLS */
    .controls-area { position: relative; z-index: 3; margin-bottom: 30px; }
    
    input[type=range] {
        width: 100%; -webkit-appearance: none; background: rgba(0, 255, 65, 0.1);
        height: 6px; border-radius: 5px; outline: none; margin: 20px 0; border: 1px solid var(--neon-green);
    }
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none; width: 25px; height: 25px; background: var(--neon-green);
        border-radius: 50%; cursor: pointer; box-shadow: 0 0 15px var(--neon-green); transition: 0.2s;
    }
    input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }

    .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
    
    .checkbox-wrapper {
        display: flex; align-items: center; gap: 12px;
        background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; border: 1px solid #30363d;
        cursor: pointer; transition: 0.3s;
    }
    .checkbox-wrapper:hover { border-color: var(--neon-green); background: rgba(0, 255, 65, 0.05); }
    
    input[type="checkbox"] {
        appearance: none; width: 20px; height: 20px; background: #050a10;
        border: 2px solid var(--text-muted); border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center;
    }
    input[type="checkbox"]:checked {
        border-color: var(--neon-green); background: var(--neon-green); box-shadow: 0 0 10px var(--neon-green);
    }
    input[type="checkbox"]:checked::after { content: 'âœ”'; color: black; font-size: 14px; font-weight: bold; }

    /* GENERATE BUTTON */
    .generate-btn {
        width: 100%; padding: 18px;
        background: var(--neon-green); color: #000;
        border: none;
        border-radius: 8px;
        font-family: var(--font-display);
        font-weight: 900; font-size: 1.3rem; letter-spacing: 2px;
        cursor: pointer;
        box-shadow: 0 0 25px rgba(0, 255, 65, 0.4);
        transition: 0.3s; margin-bottom: 30px;
        position: relative; z-index: 3;
        text-transform: uppercase;
        clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
    }
    .generate-btn:hover { 
        background: #fff; 
        box-shadow: 0 0 50px rgba(0, 255, 65, 0.8); 
        transform: translateY(-2px);
    }
    .generate-btn:active { transform: translateY(1px); }

    /* DATA PODS */
    .metrics-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; position: relative; z-index: 3; }
    .data-pod {
        background: rgba(0,0,0,0.5); border: 1px solid var(--text-muted);
        padding: 15px; border-radius: 8px; text-align: center; transition: 0.3s;
    }
    .data-pod:hover { border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0, 184, 255, 0.2); }
    .data-label { display: block; font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
    .data-value { font-size: 1.1rem; font-weight: bold; color: var(--text-primary); }

    .strength-container { grid-column: span 3; margin-top: 10px; }
    .strength-bar-bg { height: 8px; background: #050a10; border-radius: 5px; overflow: hidden; border: 1px solid #30363d; }
    .strength-bar-fill { height: 100%; width: 0%; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); }

    .back-link { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 30px; color: var(--text-muted); text-decoration: none; font-size: 0.9rem; position: relative; z-index: 3; transition: 0.3s; }
    .back-link:hover { color: var(--neon-green); letter-spacing: 1px; }

</style>
</head>
<body>

<div class="container">
    <div class="generator-card">
        <div class="header">
            <h1>SECUREGEN PRO</h1>
            <p>Quantum-Resistant Key Generator</p>
        </div>

        <div class="password-display-box">
            <div id="password-output" data-value="LOADING...">LOADING...</div>
            <div class="action-row">
                <button class="icon-btn" onclick="copyPassword()" title="Copy to Clipboard"><i class="fas fa-copy"></i></button>
                <button class="icon-btn" onclick="downloadKey()" title="Download Secure Key"><i class="fas fa-download"></i></button>
            </div>
        </div>

        <div class="controls-area">
            <label style="display: flex; justify-content: space-between; color: var(--neon-green); font-weight: bold;">
                <span>KEY LENGTH</span>
                <span id="len-val">24 BITS</span>
            </label>
            <input type="range" min="12" max="64" value="24" class="length-slider" id="length" oninput="updateLen()">

            <div class="options-grid">
                <label class="checkbox-wrapper" onclick="playClick()">
                    <input type="checkbox" id="uppercase" checked> <span>UPPERCASE [A-Z]</span>
                </label>
                <label class="checkbox-wrapper" onclick="playClick()">
                    <input type="checkbox" id="numbers" checked> <span>NUMERALS [0-9]</span>
                </label>
                <label class="checkbox-wrapper" onclick="playClick()">
                    <input type="checkbox" id="symbols" checked> <span>SYMBOLS [!@#]</span>
                </label>
                <label class="checkbox-wrapper" style="opacity: 0.7;">
                    <input type="checkbox" id="lowercase" checked disabled> <span>LOWERCASE [a-z]</span>
                </label>
            </div>
        </div>

        <button class="generate-btn" onclick="generatePassword()">INITIALIZE GENERATE</button>

        <div class="metrics-grid">
            <div class="data-pod">
                <span class="data-label">ENTROPY</span>
                <span class="data-value" id="entropy-val" style="color: var(--neon-cyan)">0 Bits</span>
            </div>
            <div class="data-pod">
                <span class="data-label">EST. CRACK TIME</span>
                <span class="data-value" id="crack-time">Calculating...</span>
            </div>
            <div class="data-pod">
                <span class="data-label">RATING</span>
                <span class="data-value" id="rating">ANALYZING</span>
            </div>
            
            <div class="strength-container">
                <div class="strength-bar-bg">
                    <div class="strength-bar-fill" id="strength-bar"></div>
                </div>
            </div>
        </div>

        <a href="index.html" class="back-link"><i class="fas fa-chevron-left"></i> TERMINATE SESSION / RETURN TO BASE</a>
    </div>
</div>

<script>
    // --- 1. AUDIO SYNTHESIZER (Pure Code SFX) ---
    // This creates cool sci-fi sounds without loading MP3 files
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    function playSound(freq, type, duration) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
        gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + duration);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + duration);
    }

    function playClick() { playSound(800, 'square', 0.05); }
    function playSuccess() { 
        playSound(600, 'sine', 0.1); 
        setTimeout(() => playSound(1200, 'sine', 0.2), 100); 
    }
    function playGenerate() {
        playSound(200, 'sawtooth', 0.1);
        setTimeout(() => playSound(400, 'square', 0.1), 50);
        setTimeout(() => playSound(800, 'square', 0.2), 100);
    }

    // --- 2. CORE LOGIC ---
    function updateLen() {
        document.getElementById('len-val').innerText = document.getElementById('length').value + " BITS";
        playClick();
    }

    function generatePassword() {
        playGenerate();
        
        const length = document.getElementById('length').value;
        const useUpper = document.getElementById('uppercase').checked;
        const useNums = document.getElementById('numbers').checked;
        const useSyms = document.getElementById('symbols').checked;

        const lower = "abcdefghijklmnopqrstuvwxyz";
        const upper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        const nums = "0123456789";
        const syms = "!@#$%^&*()_+-=[]{}|;:,.<>?";

        let pool = lower;
        if (useUpper) pool += upper;
        if (useNums) pool += nums;
        if (useSyms) pool += syms;

        let password = "";
        const array = new Uint32Array(length);
        window.crypto.getRandomValues(array);

        for (let i = 0; i < length; i++) {
            password += pool[array[i] % pool.length];
        }

        // Trigger the Decryption Animation
        animateDecryption(password);
        calculateMetrics(password, pool.length);
    }

    // --- 3. DECRYPTION ANIMATION (The "WOW" Factor) ---
    function animateDecryption(finalPassword) {
        const element = document.getElementById("password-output");
        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*";
        let iterations = 0;
        
        // Stop any running interval
        if (element.interval) clearInterval(element.interval);

        element.interval = setInterval(() => {
            element.innerText = finalPassword.split("")
                .map((letter, index) => {
                    if (index < iterations) return finalPassword[index];
                    return chars[Math.floor(Math.random() * chars.length)];
                })
                .join("");

            if (iterations >= finalPassword.length) {
                clearInterval(element.interval);
                playSuccess(); // Play success sound when finished
            }
            
            iterations += 1/2; // Speed of decryption
        }, 30);
    }

    function calculateMetrics(password, poolSize) {
        const entropy = password.length * Math.log2(poolSize);
        document.getElementById('entropy-val').innerText = entropy.toFixed(0);

        const guessesPerSec = 100000000000000; // 100 Trillion
        const combinations = Math.pow(poolSize, password.length);
        const seconds = combinations / guessesPerSec;
        
        let timeStr = "";
        if (seconds < 1) timeStr = "Instant";
        else if (seconds < 60) timeStr = seconds.toFixed(0) + " Seconds";
        else if (seconds < 3600) timeStr = (seconds/60).toFixed(0) + " Minutes";
        else if (seconds < 86400) timeStr = (seconds/3600).toFixed(0) + " Hours";
        else if (seconds < 31536000) timeStr = (seconds/86400).toFixed(0) + " Days";
        else timeStr = "Centuries";

        document.getElementById('crack-time').innerText = timeStr;

        // Visual Rating Update
        const bar = document.getElementById('strength-bar');
        const rating = document.getElementById('rating');
        const crackTimeDisplay = document.getElementById('crack-time');

        if (entropy < 65) {
            bar.style.width = "30%"; bar.style.backgroundColor = "#ff003c"; bar.style.boxShadow = "0 0 10px #ff003c";
            rating.innerText = "VULNERABLE"; rating.style.color = "#ff003c";
            crackTimeDisplay.style.color = "#ff003c";
        } else if (entropy < 100) {
            bar.style.width = "65%"; bar.style.backgroundColor = "#ffbd2e"; bar.style.boxShadow = "0 0 10px #ffbd2e";
            rating.innerText = "MODERATE"; rating.style.color = "#ffbd2e";
            crackTimeDisplay.style.color = "#ffbd2e";
        } else {
            bar.style.width = "100%"; bar.style.backgroundColor = "#00ff41"; bar.style.boxShadow = "0 0 15px #00ff41";
            rating.innerText = "MIL-SPEC"; rating.style.color = "#00ff41";
            crackTimeDisplay.style.color = "#00ff41";
        }
    }

    // --- 4. EXPORT FEATURE ---
    function copyPassword() {
        const password = document.getElementById('password-output').innerText;
        navigator.clipboard.writeText(password);
        playClick();
        alert("Encrypted key copied to clipboard.");
    }

    function downloadKey() {
        const password = document.getElementById('password-output').innerText;
        const blob = new Blob([`SECUREGEN PRO - GENERATED KEY\n--------------------------------\nKEY: ${password}\nGENERATED: ${new Date().toLocaleString()}\nENTROPY: ${document.getElementById('entropy-val').innerText} BITS`], { type: "text/plain" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "secure_key_" + Date.now() + ".txt";
        link.click();
        playSuccess();
    }

    // Init
    updateLen();
    generatePassword();
</script>

</body>
</html>